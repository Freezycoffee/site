<!DOCTYPE HTML>
<!--
	Astral by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Khofi Alfian</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="icon" href="images\icons8-puzzle-48.png">
		<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css" rel="stylesheet" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<script>
			function toggleArticle (element){
				var article = element.nextElementSibling;
				article.style.display = (article.style.display=='none')?'block':'none';
			}
		</script>
		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-D1Y8ZP155G"></script>
		<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-D1Y8ZP155G');
		</script>

	</head>
	<body class="is-preload">

		<!-- Wrapper-->
			<div id="wrapper">

				<!-- Nav -->
					<nav id="nav">
						<a href="#" class="icon solid fa-home"><span>Home</span></a>
						<a href="#work" class="icon solid fa-folder"><span>Work</span></a>
						<a href="#contact" class="icon solid fa-envelope"><span>Contact</span></a>
						<a href="#about" class="icon fa-user" target="_blank"><span>About</span></a>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Me -->
							<article id="home" class="panel intro">
								<header>
									<h1>Khofi Alfian</h1>
									<p class="aboutme">Junior data analyst, a fast learner with a talent for settling in quickly, coupled with a unique blend of creative and analytical thinking, poised to contribute dynamic insights to drive informed decision-making.
										</p>
								</header>
								<a href="https://linkedin.com/in/khofi-alfian-b27414182/" class="jumplink pic" target="_blank">
									<img src="images/me.jpg" alt="" />
								</a>
							</article>
						<!-- Work -->
							<article id="work" class="panel">
								<h2>Work</h2>
								<br>
								<ol>
									<li>
										<header>
										<h1><strong>Build an Expected Goals(xG) model for Indonesian Liga 1</strong></h1>
									</header>
									<p>
										Expected Goals (xG) adalah sebuah metrik dalam sepak bola yang mengukur peluang sebuah tembakan menjadi gol. Nilai xG sendiri berkisar dari 0 hingga 1. Satu artinya pasti menjadi gol dan nol artinya tidak mungkin menjadi gol. 
									</p>
									<p>Untuk bisa mengetahui nilai peluang dengan xG saya membuat model machine learning untuk klasifikasi dengan algoritma Gradient Boosting menggunakan data yang saya kumpulkan berkaitan dengan tembakan (shots) di Liga 1. Berikut adalah langkah-langkahnya:</p>
									<ul class="step">
										<li>
											<h6 onclick="toggleArticle(this)" class="langkah">Pengumpulan Data</h6>
											<article class="steps">
												<p>
													Pengumpulan data dapat dilakukan dengan beberapa cara untuk cara yang saya gunakan yang pertama adalah manually input data dan scrape data dari website penyedia statistik pertandingan seperti sofascore.com. Untuk melakukan scrapping yang saya gunakan sendiri caranya adalah dengan me-recreate <i>API-calls</i> dari website tersebut. Berikut adalah <i>step-by-step</i>-nya :
													<ol>
														<li>Pergi ke website <a href="http://www.sofascore.com/" target="_blank">sofascore.com</a>, pilih match yang ingin di-scrape datanya.
														</li>
														<li>Lalu klik kanan dan klik inspect atau periksa <br>
															<img src="images\step1.png" alt="">
														</li>
														<li>
															Lalu masuk ke tab Network pilih <b>fetch/XHR</b>, kemudian cari item yang bernama <b>shotmap</b> klik kanan dan copy lalu copy as cURL (bash). <br>
															<img src="images\step2.png" alt="">
														</li>
														<li>
															Lalu pergi ke <a href="https://curlconverter.com" target="_blank">curl converter</a> dan paste shotmap info yang telah di-copy. Kemudian copy hasil dari converter tersebut. <br>
														<img src="images\step3.png" alt="">
														</li>
														<li>Jalankan script yang telah di-copy dari web converter tersebut di IDE python lalu save. Berikut adalah contoh kode-nya.
														<pre><code class="language-python">
import requests
import pandas as pd
headers = {
    'authority': 'api.sofascore.com',
    'accept': '*/*',
    'accept-language': 'id,en;q=0.9,en-GB;q=0.8,en-US;q=0.7',
    'cache-control': 'max-age=0',
    'if-none-match': 'W/"4074ef5a9a"',
    'origin': 'https://www.sofascore.com',
    'referer': 'https://www.sofascore.com/',
    'sec-ch-ua': '"Microsoft Edge";v="119", "Chromium";v="119", "Not?A_Brand";v="24"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Windows"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-site',
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36 Edg/119.0.0.0',
    'If-Modified-Since':'Sat, 2 Dec 2023 00:00:00'
    }

response = requests.get('https://api.sofascore.com/api/v1/event/11865262/shotmap', headers=headers)

# cek status code
response.status_code

# menyimpan hasil scrape
shot = response.json()
df = pd.DataFrame(shot['shotmap'])
df.to_csv('shot-data.csv')
														</code>
														</pre>
														</li>
													</ol>
												</p>
											</article>
										</li>
										<li>
											<h6 onclick="toggleArticle(this)" class="langkah">Persiapan Data</h6>
											<article class="steps">
												<p>
													Langkah selanjutnya adalah mempersiapkan data yang akan digunakan untuk melatih model. Data tersebut harus mencakup variabel-variabel yang relevan dengan target yang ingin diprediksi. Dalam kasus ini, variabel-variabel yang umumnya digunakan adalah:
													<ul>
														<li><b>Posisi Pemain yang melakukan tendangan</b><br>Posisi pemain akan berpengaruh pada kualitas sebuah tendangan. Umumnya gol akan banyak dicetak oleh penyerang daripada pemain yang berposisi sebagai pemain bertahan. Hal tersebut berlaku juga untuk <b>Teknik tendangan, Jenis umpan, Situasi permainan, dan Bagian tubuh yang digunakan untuk menendang </b></li>
														<li><b>Jarak tendangan</b><br>Jarak tendangan bisa diukur dengan pertama mengetahui koordinat x dan y pemain, kemudian dihitung dengan rumus pythagoras relatif terhadap gawang.</li>
														<li><b>Sudut tendangan</b><br> Untuk menghitung sudut bisa dihitung dengan memasukan jarak yang sudah dihitung sebelumnya ke dalam rumus inverse cosine. berikut adalah contohnya.
														<span class="formula">
															<b>Sudut A = acos((AB^2 + AC^2 - BC^2) / 2*(AB*AC))</b>
														</span>
														<b> atau </b>
														<span class="formula">
															<b>Sudut A = cos^-1((AB^2 + AC^2 - BC^2) / 2*(AB*AC))</b>
														</span>
														<img src="images\20231026_205211_0000.png" alt="" id="formula">
														</li>
														<li><b>Teknik tendangan</b></li>
														<li><b>Jenis umpan</b></li>
														<li><b>Situasi Permainan</b></li>
														<li><b>Bagian tubuh yang digunakan untuk menendang</b></li>
													</ul>
													<p>Kemudian setelah variabel-variabel yang dibutuhkan tersedia selanjutnya adalah pembersihan data yaitu mengecek adakah outlier dalam data. Hal tersebut bisa dilakukan dengan mem-visualisasikan data yang telah dikumpulkan. Untuk visualisasi saya menggunakan library <b>mplsoccer</b>. Berikut adalah contoh visualisasi dimana titik biru muda menunjukan gol dan titik merah menunjukan tidak gol.
													</p> <br>
													<pre><code class="language-python line-numbers" data-prismjs-copy="Copy">
!pip install mplsoccer
from mplsoccer import VerticalPitch
pitch = VerticalPitch(pad_bottom=0.5,
                      half=True,
                      goal_type='box',
                      goal_alpha=0.8,
                      pitch_color='white',
                      linewidth=3)
# draw pitch
fig, ax = pitch.draw(figsize=(12, 10))

# non-goal shots
sc1 = pitch.scatter(shot.x, shot.y,
					s=100,
					c='#f43b56',
					marker='o',
					alpha=0.8,
					ax=ax,)
# goal shots					  
sc2 = pitch.scatter(goal.x, goal.y,
					s=100,
					c='#8ff1ff',
					marker='o',
					alpha=0.8,
					ax=ax)
					  
txt = ax.text(x=40, y=75, s='Liga 1 Shots Map',
				alpha=.6,
				size=30,color='grey',
				va='center', ha='center')
name = ax.text(x=1,y=61,s='Khofi Alfian\n@AlfianKhofi',
				size=11,color='grey',
				va='bottom',ha='left')
													</code></pre>
													<div id="img">
														<img src="images\shot.png" alt="" id="shot">
													</div><br>
													<p>dari visualisasi tersebut dapat dilihat ada beberapa outlier seperti: Goal yang dicetak dari corner-kick tentu hal tersebut adalah hal yang jarang terjadi, lalu goal yang dicetak dari jarak yang cukup jauh hampir dari garis tengah itu juga termasuk outlier. Sebelum masuk ke pembuatan model sebaiknya outlier tersebut dibersihkan terlebih dahulu.</p>
												</p>
											</article>
										</li>
										<li>
											<h6 onclick="toggleArticle(this)" class="langkah">Pembuatan Model</h6>
											<article class="steps">
											<p>Untuk pembuatan model, langkah pertama adalah menginstall library yang diperlukan di antaranya : XGBoost, SkLearn, Pandas, Numpy dan Library untuk visualisasi</p>
											<p><pre><code class="language-python line-numbers">
!pip install xgboost
!pip install scikit-optimize
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from mplsoccer import VerticalPitch,Pitch
from sklearn.model_selection import train_test_split
from sklearn.metrics import classification_report,
							roc_auc_score,
							confusion_matrix
from xgboost import XGBClassifier
from skopt import BayesSearchCV
											</code></pre></p>
											<p>Langkah selanjutnya adalah membuat dataframe dengan pandas, kemudian membagi data tersebut menjadi data training dan data test menggunakan <code>train_test_split()</code> dari sklearn.<br>
											Untuk contoh dataset yang bisa digunakan untuk membuat model xG bisa dilihat <a href="https://drive.google.com/drive/folders/1AG1kYRk6Gqb1PI27TNWkB-xQ7bTamDaU?usp=drive_link" target="_blank">di sini</a>. Data tersebut adalah dataset seluruh shot dari kompetisi FIFA U-17 World Cup. Karena XGBoost hanya bisa menerima kolom yang memiliki nilai berupa angka dan masih ada kolom yang memiliki value berupa string kita bisa menggunakan get_dummies() function dari pandas untuk mengubah value tersebut.
											<pre><code class="language-python line-numbers">
df = pd.read_excel('fifa_wc_u_17_xg.xlsx',sheet_name='fifa_wc_u_17_xg')
# pilih kolom yang akan dipelajari oleh model
feature = ['player_pos', 'distance_to_l','distance_to_r', 'angle',
       'shot_technique', 'player_in_the_way', 'pass_type', 'situation',
       'inside_pen_box', 'inside_6_box', 'header', 'weaker_foot',
       'strong_foot','other_part','big_chances','on_target']
# pembagian data
X = pd.get_dummies(df[feature])
y = df.is_goal
X_train, X_test, y_train, y_test = train_test_split(X,y,test_size=0.2)											
											</code></pre><br>
											Kemudian karena menggunakan optimization dari scikit, perlu membuat search space atau singkatnya adalah bagaimana model nantinya akan belajar. Sebelumnya karena adanya imbalance antara jumlah gol dan tidak gol maka perlu juga untuk dibuat ratio.
											<pre><code class="language-python line-numbers">
ratio = y_train.value_counts()[0]/y_train.value_counts()[1]
space ={'learning_rate':[0.001,0.01,0.1,0.25,0.5,1.0],\
        'max_depth':[2,3,4,5,6,7],\
        'n_estimator':[150,200,250,300,350,400]\
		'subsample':[0.5,0.6,0.7,0.8,0.9,1.0],\
        'colsample_bytree':[0.5,0.6,0.7,0.8,0.9,1.0],\
        'colsample_bylevel':[0.5,0.6,0.7,0.8,0.9,1.0],\
        'colsample_bynode':[0.5,0.6,0.7,0.8,0.9,1.0],\
        'reg_alpha':[0.5,0.6,0.7,0.8,0.9,1.0],\
        'reg_lambda':[0.0,0.1,0.2,0.3,0.4,0.5],\
        'gamma':[0.0,0.1,0.2,0.3,0.4,0.5]}
# pembuatan model
model = XGBClassifier(scale_pos_weight=ratio)
xG = BayesSearchCV(model,space,scoring='roc_auc',cv=3,n_iter=7)
# melatih model
xG.fit(X_train,y_train)											
											</code></pre><br>
											Angka-angka yang ada di space tersebut bisa disesuaikan dengan model yang akan dibuat dan banyaknya data yang digunakan begitu juga dengan cross validation (cv) dan number of iteration (n_iter) semakin tinggi angkanya maka semakin baik model dalam belajar namun akan memakan waktu yang cukup lama dan juga resiko overfitting. 
											</p>
											</article>
										</li>
										<li>
											<h6 onclick="toggleArticle(this)" class="langkah">Evaluasi Model</h6>
											<article class="steps">
												<p>Langkah selanjutnya adalah evaluasi model. Ada beberapa metrik yang dapat digunakan untuk mengevaluasi model namun yang umum digunakan pada kasus klasifikasi adalah roc_auc_score. Metrik yang digunakan untuk mengevaluasi kinerja model klasifikasi biner. Ini mengukur kemampuan model untuk membedakan antara dua kelas di semua batas klasifikasi yang mungkin. Kurva ROC adalah plot yang menggambarkan tingkat positif sebenarnya (sensitivitas) terhadap tingkat positif palsu (spesifisitas 1) untuk ambang klasifikasi yang berbeda. Tingkat positif sebenarnya (TPR) adalah proporsi kasus positif aktual yang diidentifikasi dengan benar oleh model, sedangkan tingkat positif palsu (RPF) adalah proporsi kasus negatif aktual yang salah diidentifikasi sebagai positif. AUC-ROC adalah area di bawah kurva ROC ini. Ini berkisar dari 0 hingga 1, di mana nilai yang lebih tinggi menunjukkan kinerja model yang lebih baik. Sebuah AUC-ROC dari 1 mewakili pengklasifikasi sempurna yang dapat membedakan antara dua kelas tanpa kesalahan, sedangkan AUC-ROC dari 0.5 menunjukkan bahwa model tidak lebih baik dari peluang acak. Dalam praktiknya, nilai AUC-ROC yang mendekati 1 lebih disukai, karena menunjukkan kemampuan model untuk mengklasifikasikan kasus positif dan negatif secara akurat.
												<pre><code class="language-python line-numbers">
y_predict = xG.predict(X_test)
y_predict_prob = xG.predict_proba(X_test)[:,1]
auc = roc_auc_score(y_test,y_predict_prob)

print(f'auc:{auc}')
print(classification_report(y_test,y_predict))

# confusion matrix plot
cm = confusion_matrix(y_test,y_predict)
sns.heatmap(cm,annot=True)
												</code></pre>
												</p>
											</article>
											</li>
											</ul>
											<a class="try" target="_blank" href="https://www.khofialfian.fun"><button class="try">Coba menggunakan xG model</button></a>
									<br><br>
									<li class="adidas">
										<h2>Adidas Sales Analysis</h2><br>
										<p> Every analysis always begin with questions. In order to gain an insight from the data. So, here are the questions:</p>
										<ol>
											<li>
												<h6 onclick="toggleArticle(this)"class="langkah">Overall Sales Performance</h6>
												<article class="steps">
													<ul>
														<li>How has company's total revenue over the past year?</li>
														<li>Are there any patterns or anomalies?</li>
													</ul>
													<p>
													<pre>
													<code class="language-python">

# Group the data first
rev = df.groupby(df['Invoice Date'].dt.strftime('%Y-%m')).agg({'Total Sales':'sum','Operating Profit':'sum'}).reset_index()
rev['total_sales_in_million'] = round(rev['Total Sales']/1000000,2)
rev['total_profit_in_million'] = round(rev['Operating Profit']/1000000,2)

# Plot the data
fig, ax = plt.subplots(figsize=(22,6))
ax.plot('Invoice Date','total_sales_in_million',data=rev)
ax.plot('Invoice Date','total_profit_in_million',data=rev)
ax.scatter(x=12,y=55.23,color='blue',s=100)
ax.scatter(x=18,y=78.33,color='blue',s=100)
plt.grid(linestyle='--',alpha=.6)
plt.ylabel('Profit & Total Sales in million')
plt.xlabel('Month')
plt.title('Profit & Total Sales Over the Years',fontsize=18,fontfamily='monospace',fontweight='bold')
plt.legend(['Total Sales','Profit'])
plt.annotate(f"January 2021\n{rev['total_sales_in_million'].values[12]} million \nGrowth {round(((rev['total_sales_in_million'].values[12]-rev['total_sales_in_million'].values[11])/rev['total_sales_in_million'].values[11])*100,2)}% from previous month",
		xy=(12,58),\
		xytext=(12,62),\
		fontsize=11,ha='center',\
		bbox=dict(boxstyle="round,pad=0.3",fc="none", ec="black", lw=1))
plt.annotate(f"Peaked at {rev['total_sales_in_million'].values[18]} million \nJuly 2021",
		xy=(18,78),\
		fontsize=11,ha='center',\
		bbox=dict(boxstyle="round,pad=0.3",fc="none", ec="black", lw=1),\
		xytext=(18,57),\
		arrowprops = dict(arrowstyle='->',connectionstyle='angle,angleA=0,angleB=90,rad=0.0'))

plt.savefig('Profit & Total Sales over the Year.png',bbox_inches='tight',dpi=300)
plt.show()
													</code>
													</pre>
													</p>
													<div id="analysis">
													<img src="images\Profit & Total Sales over the Year.png" alt="">
													</div>
												</article>
											</li>
											<li>
												<h6 onclick="toggleArticle(this)" class="langkah">Products Performance and Seasonal Trends</h6>
												<article class="steps">
													<ul>
														<li>Which products are top sellers in terms of revenue and quantity sold?</li>
														<li>Are there any products that have significant drop recently?</li>
													</ul>
													<pre><code class="language-python">
prod = df.groupby([df['Invoice Date'].dt.strftime('%Y-%m'),'Product']).agg({'Total Sales':'sum','Operating Profit':'sum','Units Sold':'sum'}).reset_index()
product = prod.groupby('Product').agg({'Total Sales':'sum','Operating Profit':'sum','Units Sold':'sum'}).reset_index()
product['total_sales_in_million'] = round(product['Total Sales']/1000000,2)
product['total_profit_in_million'] = round(product['Operating Profit']/1000000,2)
product['unit_sold_k'] = product['Units Sold']/1000
prod['total_sales_in_million'] = round(prod['Total Sales']/1000000,2)
prod['total_profit_in_million'] = round(prod['Operating Profit']/1000000,2)
prod['unit_sold_k'] = prod['Units Sold']/1000
width = 0.3
plt.title('Profit ,Total Sales, Units Sold by Product',fontfamily='monospace',fontweight='bold')
plt.xlabel('Units Sold, Profit, Total Sales')
plt.ylabel('Product')
plt.barh(product['Product'].index-width,'unit_sold_k',data=product,height=width,ec='black')
plt.barh(product['Product'].index,'total_sales_in_million',data=product,height=width,ec='black')
plt.barh(product['Product'].index+width,'total_profit_in_million',data=product,height=width,ec='black')
plt.yticks(ticks=[n for n in product['Product'].index],labels=[m for m in product['Product'].values],
			fontproperties={'family':'monospace',
							'size':8})
plt.legend(['Units Sold(k)', 'Total Sales(mil)', 'Profit(mil)'],fontsize='small')
plt.grid(axis='x',linestyle='-.',alpha=.6)
plt.savefig('Profit ,Total Sales, Units Sold by Product.png',bbox_inches='tight',dpi=300)
plt.show()

													</code></pre>
													<div id="analysis">
														<img src="images\Profit ,Total Sales, Units Sold by Product.png" alt="">
													</div>
													<pre>
														<code class="language-python">

men_apparel = product.loc[product['Product']=="Men's Apparel",['Invoice Date','unit_sold_k','total_sales_in_million','total_profit_in_million']]
men_ath_footwear = product.loc[product['Product']=="Men's Athletic Footwear",['Invoice Date','unit_sold_k','total_sales_in_million','total_profit_in_million']]
men_street_footwear = product.loc[product['Product']=="Men's Street Footwear",['Invoice Date','unit_sold_k','total_sales_in_million','total_profit_in_million']]
women_apparel = product.loc[product['Product']=="Women's Apparel",['Invoice Date','unit_sold_k','total_sales_in_million','total_profit_in_million']]
women_ath_footwear = product.loc[product['Product']=="Women's Athletic Footwear",['Invoice Date','unit_sold_k','total_sales_in_million','total_profit_in_million']]
women_street_footwear = product.loc[product['Product']=="Women's Street Footwear",['Invoice Date','unit_sold_k','total_sales_in_million','total_profit_in_million']]

plt.figure(1,figsize=(35,50))
plt.subplot(621)
plt.title('Men\'s Apparel Sales in a Year')
plt.xticks(rotation=45)
plt.bar('Invoice Date','unit_sold_k',width = .5,data=men_apparel)
plt.bar('Invoice Date','total_sales_in_million',width = .5,data=men_apparel)
plt.bar('Invoice Date','total_profit_in_million',width = .5,data=men_apparel)
plt.legend(['Units Sold(k)', 'Total Sales(mil)', 'Profit(mil)'],fontsize='x-small')

plt.subplot(622)
plt.xticks(rotation=45)
plt.title('Men\'s Athletic Footwear Sales in a Year')
plt.bar('Invoice Date','unit_sold_k',width = .5,data=men_ath_footwear)
plt.bar('Invoice Date','total_sales_in_million',width = .5,data=men_ath_footwear)
plt.bar('Invoice Date','total_profit_in_million',width = .5,data=men_ath_footwear)
plt.legend(['Units Sold(k)', 'Total Sales(mil)', 'Profit(mil)'],fontsize='x-small')

plt.subplot(623)
plt.xticks(rotation=45)
plt.title('Men\'s Street Footwear Sales in a Year')
plt.bar('Invoice Date','unit_sold_k',width = .5,data=men_street_footwear)
plt.bar('Invoice Date','total_sales_in_million',width = .5,data=men_street_footwear)
plt.bar('Invoice Date','total_profit_in_million',width = .5,data=men_street_footwear)
plt.legend(['Units Sold(k)', 'Total Sales(mil)', 'Profit(mil)'],fontsize='x-small')

plt.subplot(624)
plt.title('Women\'s Apparel Sales in a Year')
plt.xticks(rotation=45)
plt.bar('Invoice Date','unit_sold_k',width = .5,data=women_apparel)
plt.bar('Invoice Date','total_sales_in_million',width = .5,data=women_apparel)
plt.bar('Invoice Date','total_profit_in_million',width = .5,data=women_apparel)
plt.legend(['Units Sold(k)', 'Total Sales(mil)', 'Profit(mil)'],fontsize='x-small')

plt.subplot(625)
plt.xticks(rotation=45)
plt.title('Women\'s Athletic Footwear Sales in a Year')
plt.bar('Invoice Date','unit_sold_k',width = .5,data=women_ath_footwear)
plt.bar('Invoice Date','total_sales_in_million',width = .5,data=women_ath_footwear)
plt.bar('Invoice Date','total_profit_in_million',width = .5,data=women_ath_footwear)
plt.legend(['Units Sold(k)', 'Total Sales(mil)', 'Profit(mil)'],fontsize='x-small')

plt.subplot(626)
plt.xticks(rotation=45)
plt.title('Women\'s Street Footwear Sales in a Year')
plt.bar('Invoice Date','unit_sold_k',width = .5,data=women_street_footwear)
plt.bar('Invoice Date','total_sales_in_million',width = .5,data=women_street_footwear)
plt.bar('Invoice Date','total_profit_in_million',width = .5,data=women_street_footwear)
plt.legend(['Units Sold(k)', 'Total Sales(mil)', 'Profit(mil)'],fontsize='x-small')

plt.savefig('Men and Women Product by Time.png',bbox_inches='tight',dpi=300)
plt.show()
														</code>
													</pre>
													<div id="analysis">
														<img src="images\Men and Women Product by Time.png" alt="">
													</div>
													<pre>
														<code class="language-python">
		
df['customer'] = np.where(df['Product'].str.contains('Men'),'Men','Women')
cust_segment = df.groupby(['Sales Method','customer',df['Invoice Date'].dt.strftime('%Y-%m')]).agg({'Total Sales':'sum','Operating Profit':'sum','Units Sold':'sum'}).reset_index()
cust = cust_segment.groupby(['customer','Sales Method']).agg({'Total Sales':'sum','Operating Profit':'sum','Units Sold':'sum'}).reset_index()
cust_m = cust.loc[cust['customer']=='Men',['Sales Method','Units Sold']]
cust_w = cust.loc[cust['customer']=='Women',['Sales Method','Units Sold']]
plt.figure(1,figsize=(7,5))
width = 0.5
plt.title('Men\'s and Women\'s Product Sales',fontweight='bold',fontsize=18)
plt.bar(cust_m['Sales Method'].index,'Units Sold',data=cust_m,width=width)
plt.bar(cust_w['Sales Method'].index,'Units Sold',data=cust_w,width=width)
plt.legend(['Men\'s Product','Women\'s Product'])
plt.grid(axis='y',linestyle='--',alpha=.6)
plt.xticks(ticks=[n for n in cust['Sales Method'].index],labels=[m for m in cust['Sales Method'].values],
           fontproperties={'family':'monospace',
                           'size':8})
plt.savefig('Sales Method Performance.png',bbox_inches='tight',dpi=300)
plt.show()

																	</code>
																</pre>
																<div id="analysis">
																	<img src="images\Sales Method Performance.png" alt="">
																</div>
																<pre>
																	<code class="language-python">
		
cust_men = cust_segment.loc[cust_segment['customer']=='Men',['Sales Method','Units Sold']]
cust_women = cust_segment.loc[cust_segment['customer']=='Women',['Sales Method','Units Sold']]
in_store_men = cust_segment.loc[(cust_segment['Sales Method']=='In-store')&(cust_segment['customer']=='Men'),['Invoice Date','customer','Units Sold']]
in_store_women = cust_segment.loc[(cust_segment['Sales Method']=='In-store')&(cust_segment['customer']=='Women'),['Invoice Date','customer','Units Sold']]
online_men = cust_segment.loc[(cust_segment['Sales Method']=='Online')&(cust_segment['customer']=='Men'),['Invoice Date','customer','Units Sold']]
online_women = cust_segment.loc[(cust_segment['Sales Method']=='Online')&(cust_segment['customer']=='Women'),['Invoice Date','customer','Units Sold']]
outlet_men = cust_segment.loc[(cust_segment['Sales Method']=='Outlet')&(cust_segment['customer']=='Men'),['Invoice Date','customer','Units Sold']]
outlet_women = cust_segment.loc[(cust_segment['Sales Method']=='Outlet')&(cust_segment['customer']=='Women'),['Invoice Date','customer','Units Sold']]

plt.figure(1,figsize=(15,21))
plt.subplot(311)
plt.title('In-Store Sales')
plt.plot('Invoice Date','Units Sold',data=in_store_men)
plt.plot('Invoice Date','Units Sold',data=in_store_women)
plt.xticks(rotation=45)
plt.legend(['Men','Women'])
plt.grid()
plt.subplot(312)
plt.title('Online Sales')
plt.plot('Invoice Date','Units Sold',data=online_men)
plt.plot('Invoice Date','Units Sold',data=online_women)
plt.xticks(rotation=45)
plt.legend(['Men','Women'])
plt.grid()
plt.subplot(313)
plt.title('Outlet Sales')
plt.plot('Invoice Date','Units Sold',data=outlet_men)
plt.plot('Invoice Date','Units Sold',data=outlet_women)
plt.xticks(rotation=45)
plt.legend(['Men','Women'])
plt.grid()
plt.savefig('Sales Method Performance by Time.png',bbox_inches='tight',dpi=300)
plt.show()
																	</code>
																</pre>
																<div id="analysis">
																	<img src="images\Sales Method Performance by Time.png" alt="">
																</div>
												</article>
											</li>
											<li>
												<h6 onclick="toggleArticle(this)" class="langkah">Regional Analysis</h6>
												<article class="steps">
													<ul>
														<li>Variations sales across different Regions or locations?</li>
														<li>Are there any regions that standout in terms of sales performance?</li>
													</ul>
													<pre>
														<code class="language-python">

region = df.groupby(['Region','State']).agg({'Total Sales':'sum','Operating Profit':'sum','Units Sold':'sum'}).reset_index()
region['total_sales_in_million'] = round(region['Total Sales']/1000000,2)
region['total_profit_in_million'] = round(region['Operating Profit']/1000000,2)
region['unit_sold_k'] = region['Units Sold']/1000

midwest = region[region['Region']=='Midwest']
northeast = region[region['Region']=='Northeast']
south = region[region['Region']=='South']
west = region[region['Region']=='West']
southeast = region[region['Region']=='Southeast']
width = .3

plt.figure(1,figsize=(10,36))
plt.subplot(511)
plt.title('Product Sales in Midwest')
plt.barh(midwest['State'].index-width,'unit_sold_k',data=midwest,height=width)
plt.barh(midwest['State'].index,'total_sales_in_million',data=midwest,height=width)
plt.barh(midwest['State'].index+width,'total_profit_in_million',data=midwest,height=width)
plt.legend(['Units Sold(k)', 'Total Sales(mil)', 'Profit(mil)'],fontsize='small')
plt.yticks(ticks=[n for n in midwest['State'].index],labels=[m for m in midwest['State'].values],
			fontproperties={'family':'monospace',
							'size':8})
plt.grid(axis='x',linestyle='--',alpha=.6)

plt.subplot(512)
plt.title('Product Sales in West')
plt.barh(west['State'].index-width,'unit_sold_k',data=west,height=width)
plt.barh(west['State'].index,'total_sales_in_million',data=west,height=width)
plt.barh(west['State'].index+width,'total_profit_in_million',data=west,height=width)
plt.legend(['Units Sold(k)', 'Total Sales(mil)', 'Profit(mil)'],fontsize='small')
plt.yticks(ticks=[n for n in west['State'].index],labels=[m for m in west['State'].values],
			fontproperties={'family':'monospace',
							'size':8})
plt.grid(axis='x',linestyle='--',alpha=.6)

plt.subplot(513)
plt.title('Product Sales in Northeast')
plt.barh(northeast['State'].index-width,'unit_sold_k',data=northeast,height=width)
plt.barh(northeast['State'].index,'total_sales_in_million',data=northeast,height=width)
plt.barh(northeast['State'].index+width,'total_profit_in_million',data=northeast,height=width)
plt.legend(['Units Sold(k)', 'Total Sales(mil)', 'Profit(mil)'],fontsize='small')
plt.yticks(ticks=[n for n in northeast['State'].index],labels=[m for m in northeast['State'].values],
			fontproperties={'family':'monospace',
							'size':8})
plt.grid(axis='x',linestyle='--',alpha=.6)

plt.subplot(514)
plt.title('Product Sales in South')
plt.barh(south['State'].index-width,'unit_sold_k',data=south,height=width)
plt.barh(south['State'].index,'total_sales_in_million',data=south,height=width)
plt.barh(south['State'].index+width,'total_profit_in_million',data=south,height=width)
plt.legend(['Units Sold(k)', 'Total Sales(mil)', 'Profit(mil)'],fontsize='small')
plt.yticks(ticks=[n for n in south['State'].index],labels=[m for m in south['State'].values],
			fontproperties={'family':'monospace',
							'size':8})
plt.grid(axis='x',linestyle='--',alpha=.6)

plt.subplot(515)
plt.title('Product Sales in Southeast')
plt.barh(southeast['State'].index-width,'unit_sold_k',data=southeast,height=width)
plt.barh(southeast['State'].index,'total_sales_in_million',data=southeast,height=width)
plt.barh(southeast['State'].index+width,'total_profit_in_million',data=southeast,height=width)
plt.legend(['Units Sold(k)', 'Total Sales(mil)', 'Profit(mil)'],fontsize='small')
plt.yticks(ticks=[n for n in southeast['State'].index],labels=[m for m in southeast['State'].values],
			fontproperties={'family':'monospace',
							'size':8})
plt.grid(axis='x',linestyle='--',alpha=.6)

plt.savefig('Sales by Region.png',bbox_inches='tight',dpi=300)
plt.show()
														</code>
													</pre>
													<div id="analysis">
														<img src="images\Sales by Region.png" alt="">
													</div>
													<p>So those are the sales performance all the state of each region.
													<ul>
														<li>For Midwest Region the standout state are Michigan and Ohio</li>
														<li>For West Region the standout state is by far California</li>
														<li>For Northeast Region the standout state is an obvious New York</li>
														<li>For South Region the standout state is Texas</li>
														<li>For Southeast Region the standout state is Florida</li>
													</ul>
														Next I will compare each region sales performance
													<pre>
													<code class="language-python">													
regions = region.groupby('Region').agg({'unit_sold_k':'sum','total_sales_in_million':'sum','total_profit_in_million':'sum'}).reset_index()
plt.title('Sales Performance of Each Region',fontweight='bold')
width = .3
plt.bar(regions['Region'].index-width,'unit_sold_k',data=regions,width=width)
plt.bar(regions['Region'].index,'total_sales_in_million',data=regions,width=width)
plt.bar(regions['Region'].index+width,'total_profit_in_million',data=regions,width=width)
plt.legend(['Units Sold(k)', 'Total Sales(mil)', 'Profit(mil)'],fontsize='small')
plt.xticks(ticks=[n for n in regions['Region'].index],labels=[m for m in regions['Region'].values],
			fontproperties={'family':'monospace',
							'size':8})
plt.grid(axis='y',linestyle='--',alpha=.6)

plt.savefig('Sales Performance each Region.png',bbox_inches='tight',dpi=300)
plt.show()
													</code></pre></p>
													<div id="analysis">
														<img src="images\Sales Performance each Region.png" alt="">
													</div>
												</article>
											</li>
										</ol>
											<div  id="analysis"><iframe width="600" height="900" src="https://lookerstudio.google.com/embed/reporting/72a52e0a-b28d-42fa-beca-adddf4dfeac8/page/1M" frameborder="0" style="border:0" allowfullscreen></iframe></div>
									</li>
									<li class="smartphone">
										<h2>Smartphone Analysis</h2><br>
										<p>This Project was created to help me identify the best smartphone to purchase by doing analysis processes from creating a dataset, building machine learning model and building a dashboard using Power BI. This project was also used for showcasing my skills in Data Scrapping, Data Cleaning and Preprocessing as well as Data Visualization using BI tools Power BI. For the full code please check on my <a href="https://github.com/Freezycoffee/smartphone" target="_blank">GitHub Repository</a>. And here are the detailed step by step in this project: </p>
										<ol>
											<li>
												<h6 onclick="toggleArticle(this)"class="langkah">Data Collecting</h6>
												<article class="steps">
													<p> For Data Collecting I am using Scrapping technique using BeautifulSoup and requests library from python. The website I am going to scrape from are <a href="https://gsmarena.id" target="_blank">GSMArena</a> and <a href="https://carisinyal.com/" target="_blank">Carisinyal</a> as they have information about phone specifications as well price in Rupiah (Indonesian Currency).
													</p>
													<div id="analysis">
													</div>
												</article>
											</li>
											<li>
												<h6 onclick="toggleArticle(this)" class="langkah">Data Preprocessing</h6>
												<article class="steps">
													<p>For Data Preprocessing I am Using Microsoft Excel to clean the string data as well as the mixed data type in certain columns. And then for missing values I am using sklearn imputer to impute the missing values. The process of imputing is divided into two which are for categorical columns and numerical columns, for categorical columns I am using SimpleImputer with the most frequent value as imputer, as for numerical columns I am using KNNImputer with number of neighbors is 4.</p>
												</article>
											</li>
											<li>
												<h6 onclick="toggleArticle(this)" class="langkah">Build a Predictive Model</h6>
												<article class="steps">
													<p>In this step I am using XGBoostRegressor to create a predictive model that can predict the price of smartphone based on certain features. It is a fairly simple model since I do not use hyper-parameter tuning.</p>
												</article>
											</li>
											<li>
												<h6 onclick="toggleArticle(this)" class="langkah">Build a Dashboard</h6>
												<article class="steps">
												<p>For building a dashboard I am using Power BI since it is user-friendly and convenience it is the best BI tools for beginner. By building a dashboard it helps me find the best smartphone to purchase based on certain features that i like with consideration of its price and my budget.</p>
												</article>
											</li>
										</ol>
											<div  id="analysis"><iframe title="smartphone-report" width="600" height="373.5" src="https://app.powerbi.com/view?r=eyJrIjoiMGZlYzRiYWYtY2U0OC00ZWJiLWJjZWYtMWFmMGJjMTZmMzUzIiwidCI6IjUwODkxNmEwLTdiODktNDNhMS1hZjRlLTcyZmUxNWFiYTViOSIsImMiOjEwfQ%3D%3D" frameborder="0" allowFullScreen="true"></iframe></div>
									</li>
								</ol>
							</article>

						<!-- Contact -->
							<article id="contact" class="panel">
								<header>
									<h2>Contact Me</h2>
								</header>
								<form action="https://formsubmit.co/6c80894279a1e70ec30769e3151aad49" method="POST">
									<input type="text" name="_honey" style="display: none;">
									<input type="hidden" name="_next" value="https://freezycoffee.github.io/site/#contact">
									<input type="hidden" name="_captcha" value="false">
									<div>
										<div class="row">
											<div class="col-6 col-12-medium">
												<input type="text" name="name" placeholder="Name"/>
											</div>
											<div class="col-6 col-12-medium">
												<input type="text" name="email" placeholder="Email"/>
											</div>
											<div class="col-12">
												<input type="text" name="subject" placeholder="Subject"/>
											</div>
											<div class="col-12">
												<textarea name="message" placeholder="Message" rows="6"></textarea>
											</div>
											<div class="col-12">
												<input type="submit" value="Send Message" />
											</div>
										</div>
									</div>
								</form>
							</article>
							<!-- About -->
							<article id="about" class="panel">
								<header>
									<h2>About Me</h2>
								</header>
								<p>Hello, my name is Khofi Alfian. I am a student at Universitas Terbuka currently in 5th Semester majoring Economic Business Management. As a junior data analyst, I bring a dynamic combination of adaptability, analytical thinking, and a passion for creative problem-solving. Known for my fast learning abilities. <br>

								My approach to data analysis is characterized by a creative mindset, allowing me to uncover insights beyond the surface. I am adept at translating complex data sets into actionable strategies, leveraging both my analytical skills and creative thinking to drive informed decision-making. <br>
									
								I have demonstrated a commitment to continuous learning and staying abreast of industry trends, ensuring that my skills are always aligned with the latest advancements in data analysis. I thrive in collaborative settings and am enthusiastic about contributing to high-impact projects. <br>
									
								With a dedication to excellence, I am poised to make valuable contributions to your team's success.</p>
								<div class="social">
									<h4>Socials</h4>
									<ul>
										<li><span  class="icon brands fa-twitter"><a href="https://www.twitter.com/AlfianKhofi" target="_blank"  class="link"> Twitter</a></span></li>
										<li><span  class="icon brands fa-instagram"><a href="https://www.instagram.com/khofialfian" target="_blank"  class="link"> Instagram</a></span></li>
										<li><span  class="icon brands fa-github"><a href="https://www.github.com/freezycoffee" target="_blank"  class="link"> GitHub</a></span></li>
									</ul>
								</div>
							</article>
					</div>

				<!-- Footer -->
					<div id="footer">
							<b>&copy; Khofi Alfian 2024</b>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
			<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
			<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/toolbar/prism-toolbar.min.js" integrity="sha256-NSwb7O0HrDJcC+2SASgGuCP8+tdpIhqnzLTZkGRJRCk=" crossorigin="anonymous"></script>
			<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/remove-initial-line-feed/prism-remove-initial-line-feed.js" integrity="sha256-rLEmlPVcY3+5JIOTtFDQAarl98NYg1yMIup9c6+v9ug=" crossorigin="anonymous"></script>
			<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js" integrity="sha256-qf3MqHLzDh4qqAnc9QVmqjEWBA4CfzP1YwRFbfNfpnE=" crossorigin="anonymous"></script>
			<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha256-AjM0J5XIbiB590BrznLEgZGLnOQWrt62s3BEq65Q/I0=" crossorigin="anonymous"></script>
			<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.min.js" integrity="sha256-9cmf7tcLdXpKsPi/2AWE93PbZpTp4M4tqzFk+lWomjU=" crossorigin="anonymous"></script>
	</body>
</html>
